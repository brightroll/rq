
<h1>RQ</h1>
<h5></h5>

<h3>QueueMgr Status</h3>
<ul>
<li>
<%if  RQ::QueueMgrClient.running? %>
  <span class="green">QUEUE MGR is OPERATIONAL</span>
  <span class="green"> <%=  RQ::QueueMgrClient.ping %> </span>
  <span class="green"> <%=  RQ::QueueMgrClient.read_pid %></span>
  uptime <%= RQ::QueueMgrClient.uptime %> seconds
  <h5><%= RQ::QueueMgrClient.environment %></h5>
  <% else %>
  <span class="red">QUEUE MGR is DOWN</span>
<%end %>
</li>
<li>
</li>
</ul>


<h3>Queue List</h3>
<ul>
<p>
<a href="new_queue">New Queue</a>
</p>
<% if RQ::QueueMgrClient.running? %>
<%   queues = RQ::QueueMgrClient.queues %>
<%   queues.each do |q| %>
<%     qc = RQ::QueueClient.new(q) %>
<li>
<span class=""> <a href="<%= "#{url}q/#{q}" %>"><%= "#{url}q/#{q}" %></a> </span>
<br />
<%if  qc.running? %>
  <% admin_stat, oper_stat = qc.status %>
  <span class="green">queue is administratively: <%= admin_stat %> </span>
  <span class="green">queue is operationally: <%= oper_stat %> </span>
  <span class="green"> <%=  qc.ping %> </span>
  <span class="green"> <%=  qc.read_pid %></span>
  up for <%= qc.uptime %> seconds
  <% else %>
  <span class="red">queue is DOWN</span>
<%end %>
  <br />
<span class=""> <a href="<%= "#{url}q/#{q}/restart" %>">Restart</a> </span>
  <br />
  <br />
</li>
<%   end %>
<% end %>
</ul>

<%= Time.now %> - <%= Dir.pwd %>
