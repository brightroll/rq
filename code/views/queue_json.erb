<%- status = qc.status -%>
{"status":"<%= status -%>"
<%- if status != 'DOWN' -%>
,"uptime":<%= qc.uptime -%>
<%- num_messages = qc.num_messages -%>
,"prep_size":<%= num_messages['prep'] -%>
,"que_size":<%= num_messages['que'] -%>
,"run_size":<%= num_messages['run'] -%>
,"done_size":<%= num_messages['done'] -%>
,"err_size":<%= num_messages['err'] -%>
,"relayed_size":<%= num_messages['relayed'] -%>
,"messages":{
"prep":<%= qc.messages({'state' => 'prep', 'limit' => 50}).to_json %>,
"que":<%= qc.messages({'state' => 'que'}).to_json %>,
"run":<%= qc.messages({'state' => 'run'}).to_json %>,
"done":<%= qc.messages({'state' => 'done', 'limit' => 50}).to_json %>,
"err":<%= qc.messages({'state' => 'err'}).to_json %>
}
<%- end -%>
}
